{% extends "front_base.html" %}

{% block title %}{% spaceless %}

    {% if tag %}
        : Filed under "{{ tag.name }}"
    {% elif untagged %}
        : Untagged
    {% else %}
        : All documents
    {% endif %}
{% endspaceless %}{% endblock %}

{% block content %}
    {% if tag %}
        <div class="text tag-text">
            <h1>{{ tag.name }}</h1>
            <p class="tag-desc">{{ tag.description }}</p>
        </div>
    {% endif %}

    {% for status, documents in status_documents.items %}
        {% if documents|length > 0 %}
            <div class="text docs-header"><h3>{{ status.label }}</h3></div>
            {% for document in documents %}
                <div class="text doc-item">
                    <a class="doc-item-link" href="{% url "pile:retrieve" document.id %}">ðŸ”—</a>
                    <a href="{% url "pile:document" document.id %}">
                        <div class="doc-item-text">
                            <h2>{{ document.title }}</h2>
                            <h3>{{ document.author }} {{ document.published }}</h3>
                        </div>
                    </a>
                </div>
            {% endfor %}
        {% endif %}
    {% endfor %}
{% endblock %}

{% block meta-og %}
    {% if tag %}
        <meta property="og:title" content="The /-\ Pile: Documents under &quot;{{ tag.name }}&quot;"/>
        <meta property="og:url" content="{% url "pile:tag" tag.id %}"/>
        <meta property="og:description" content="{{ tag.description }}"/>
        <meta property="og:type" content="website"/>
    {% endif %}
{% endblock %}
